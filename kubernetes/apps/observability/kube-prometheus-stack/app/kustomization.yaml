---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: observability
resources:
  - ./config-alertmanager.yaml
  - ./externalsecret.yaml
  - ./helmrelease.yaml
  #- ./secret.sops.yaml

configMapGenerator:
  - name: alertmanager-config
    files:
      - values-alertmanager.yaml
  - name: grafana-config
    files:
      - values-grafana.yaml
  - name: kube-apiserver-config
    files:
      - values-kube-apiserver.yaml
  - name: kube-controller-manager-config
    files:
      - values-kube-controller-manager.yaml
  - name: kube-etcd-config
    files:
      - values-etcd.yaml
  - name: kube-proxy-config
    files:
      - values-proxy.yaml
  - name: kube-scheduler-config
    files:
      - values-scheduler.yaml
  - name: kube-state-metrics-config
    files:
      - values-kube-state-metrics.yaml
  - name: kubelet-config
    files:
      - values-kubelet.yaml
  - name: node-exporter-config
    files:
      - values-node-exporter.yaml
  - name: prometheus-node-exporter-config
    files:
      - values-prometheus-node-exporter.yaml
  - name: prometheus-config
    files:
      - values-prometheus.yaml
generatorOptions:
  disableNameSuffixHash: true

configurations:
  - kustomizeconfig.yaml
