---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - ../../../../../../base/databases/kafka-operator

configMapGenerator:
  - name: kafka-operator-helm-values
    files:
      - base-values.yaml=values.yaml

  - name: kafka-operator-helm-values
    behavior: merge
    files:
      - overlay-values.yaml=values.yaml

patches:
- target:
    group: helm.toolkit.fluxcd.io
    kind: HelmRelease
    name: kafka-operator
  path: helm-patch.yaml